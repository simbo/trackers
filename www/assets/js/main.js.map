{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/assets/js/classes/tracker-collection.js","src/assets/js/classes/tracker.js","src/assets/js/functions/define-properties.js","src/assets/js/functions/on-dom-ready.js","src/assets/js/functions/on-value-update.js","src/assets/js/functions/render-template.js","src/assets/js/main.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourceRoot":".","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nvar defineProperties = require('functions/define-properties'),\n    onValueUpdate = require('functions/on-value-update'),\n    renderTemplate = require('functions/render-template'),\n    Tracker = require('classes/tracker');\n\nvar storage = window.localStorage;\n\n/**\n * TrackerCollection class\n * @param {object} $        dom elements\n * @param {string} template tracker template string\n * @return {void}\n */\nfunction TrackerCollection($, template) {\n\n    var nextTrackerID = 0,\n        trackers = {};\n\n    if (!($.wrap instanceof HTMLDivElement)) throw new Error('invalid container');\n    if (!($.list instanceof HTMLUListElement)) throw new Error('invalid list');\n    if (!($.add instanceof HTMLButtonElement)) throw new Error('invalid button');\n    if (!($.merge instanceof HTMLButtonElement)) throw new Error('invalid button');\n    if (!($.delete instanceof HTMLButtonElement)) throw new Error('invalid button');\n    if (typeof template !== 'string') throw new Error('invalid template');\n\n    if (!storage) {\n        throw new Error('localStorage not available');\n    }\n\n    defineProperties(this, {\n\n        trackers: {\n            get: function() {\n                return trackers;\n            }\n        },\n\n        minified: {\n            get: function() {\n                return Object.keys(trackers).reduce(function(trackerArr, trackerID) {\n                    return trackerArr.concat([trackers[trackerID].minified]);\n                }, []);\n            }\n        },\n\n        mergeMode: {\n            get: function() {\n                return (/(^|\\ )trackers-merge-mode(\\ |$)/i).test($.wrap.className);\n            }\n        },\n\n        deleteMode: {\n            get: function() {\n                return (/(^|\\ )trackers-delete-mode(\\ |$)/i).test($.wrap.className);\n            }\n        }\n\n    });\n\n    /**\n     * add a tracker to tracker list\n     * @param {tracker} tracker tracker instance\n     * @param {boolean} store   whether to store the tracker collection after adding or not\n     * @return {trackerCollection} this\n     */\n    this.add = function(tracker, store) {\n        var container,\n            trackerID = nextTrackerID++;\n        store = typeof store === 'boolean' ? store : true;\n        tracker = trackers[trackerID] = tracker instanceof Tracker ? tracker : new Tracker();\n        container = renderTemplate(template, {\n            tracked: tracker.format(),\n            description: tracker.description,\n            tracking: tracker.tracking,\n            id: trackerID\n        });\n        $.list.insertBefore(container, $.list.firstChild);\n        this.addTrackerEvents(tracker, {\n            container: container,\n            tracked: container.querySelector('.tracker-tracked'),\n            description: container.querySelector('.tracker-description'),\n            toggle: container.querySelector('.tracker-toggle')\n        });\n        if (store) this.store();\n        return this;\n    };\n\n    this.remove = function(trackerID, store) {\n        store = typeof store === 'boolean' ? store : true;\n        if (trackers.hasOwnProperty(trackerID)) {\n            delete trackers[trackerID];\n            $.list.removeChild(document.getElementById('tracker-' + trackerID));\n            if (store) this.store();\n        }\n        return this;\n    };\n\n    this.enableMergeMode = function() {\n        this.disableDeleteMode();\n        $.wrap.className += ' trackers-merge-mode';\n    };\n\n    this.disableMergeMode = function() {\n        $.wrap.className = $.wrap.className.replace(/(^|\\ )trackers-merge-mode(\\ |$)/ig, '$2');\n    };\n\n    this.enableDeleteMode = function() {\n        this.disableMergeMode();\n        $.wrap.className += ' trackers-delete-mode';\n    };\n\n    this.disableDeleteMode = function() {\n        $.wrap.className = $.wrap.className.replace(/(^|\\ )trackers-delete-mode(\\ |$)/ig, '$2');\n    };\n\n    // add event handler to add-tracker button\n    $.add.addEventListener('click', function() {\n        var trackerID = nextTrackerID;\n        this.add();\n        trackers[trackerID].start();\n        document.getElementById('tracker-' + trackerID).querySelector('.tracker-description').focus();\n    }.bind(this));\n\n    // add event handler to toggle-merge button\n    $.merge.addEventListener('click', function() {\n        this.toggleMergeMode();\n    }.bind(this));\n\n    // add event handler to toggle-delete button\n    $.delete.addEventListener('click', function() {\n        this.toggleDeleteMode();\n    }.bind(this));\n\n}\n\n/**\n * store tracker in local storage\n * @return {void}\n */\nTrackerCollection.prototype.store = function() {\n    try {\n        storage.setItem('trackers', JSON.stringify(this.minified));\n    } catch (err) {\n        throw new Error('could not store trackers');\n    }\n};\n\n/**\n * restore trackers from local storage\n * @return {void}\n */\nTrackerCollection.prototype.restore = function() {\n    try {\n        Object.keys(this.trackers).forEach(function(trackerID) {\n            this.remove(trackerID);\n        }.bind(this));\n        (JSON.parse(storage.getItem('trackers')) || []).forEach(function(data) {\n            data.unshift(null);\n            this.add(new (Function.prototype.bind.apply(Tracker, data)), false);\n        }.bind(this));\n    } catch (err) {\n        throw new Error('could not restore trackers');\n    }\n};\n\nTrackerCollection.prototype.toggleMergeMode = function() {\n    if (this.mergeMode) this.disableMergeMode();\n    else this.enableMergeMode();\n};\n\nTrackerCollection.prototype.toggleDeleteMode = function() {\n    if (this.deleteMode) this.disableDeleteMode();\n    else this.enableDeleteMode();\n};\n\n/**\n * add events\n * @param {Tracker} tracker tracker instance\n * @param {object}  $       plain object containing dom nodes\n * @return {void}\n */\nTrackerCollection.prototype.addTrackerEvents = function(tracker, $) {\n\n    var trackerInterval;\n\n    onValueUpdate($.description, function() {\n        tracker.description = $.description.value;\n        resizeTextarea();\n        this.store();\n    }.bind(this));\n\n    onValueUpdate($.tracked, function() {\n        tracker.tracked = Tracker.stringToDuration($.tracked.value);\n        if (tracker.tracking) tracker.trackingSince = Tracker.now();\n        this.store();\n    }.bind(this));\n\n    $.tracked.addEventListener('blur', function() {\n        $.tracked.value = tracker.format();\n    });\n\n    $.toggle.addEventListener('click', function() {\n        tracker.toggle();\n        this.store();\n    }.bind(this));\n\n    tracker.on('start', function() {\n        Object.keys(this.trackers).forEach(function(trackerID) {\n            if (this.trackers[trackerID] !== tracker) this.trackers[trackerID].stop();\n        }.bind(this));\n        startTrackerUpdate();\n        setTrackerClass();\n        resizeTextarea();\n    }.bind(this));\n\n    tracker.on('stop', function() {\n        stopTrackerUpdate();\n        setTrackerClass();\n        resizeTextarea();\n    });\n\n    if (tracker.tracking) startTrackerUpdate();\n\n    resizeTextarea();\n\n    /**\n     * set tracker container class attribute depending on tracking status\n     * @return {void}\n     */\n    function setTrackerClass() {\n        $.container.className = $.container.className.replace(/(^|\\ )tracker--(not-)?tracking(\\ |$)/ig, '$3');\n    }\n\n    /**\n     * start auto-updating total tracking duration input value\n     * @return {void}\n     */\n    function startTrackerUpdate() {\n        if (trackerInterval) clearInterval(trackerInterval);\n        trackerInterval = window.setInterval(function() {\n            if ($.tracked !== document.activeElement) $.tracked.value = tracker.format();\n        });\n    }\n\n    /**\n     * stop auto-updating total tracking duration input value\n     * @return {void}\n     */\n    function stopTrackerUpdate() {\n        clearInterval(trackerInterval);\n    }\n\n    /**\n     * resize tracker description textarea depending on content height\n     * @return {void}\n     */\n    function resizeTextarea() {\n        $.description.style.height = 'auto';\n        $.description.style.height = $.description.scrollHeight + 'px';\n    }\n\n};\n\n// export class\nmodule.exports = TrackerCollection;\n","'use strict';\n\nvar defineProperties = require('functions/define-properties');\n\n/**\n * Tracker class\n * @param {number} tracked     tracked milliseconds\n * @param {mixed}  tracking    false or timestamp from track start\n * @param {string} description tracker description\n * @return {tracker} instance\n */\nfunction Tracker(tracked, tracking, description) {\n\n    /**\n     * plain object for storing private properties\n     * @type {object}\n     */\n    var properties = {\n        tracked: 0,\n        tracking: false,\n        description: ''\n    };\n\n    /**\n     * plain object for storing event handlers\n     * @type {Object}\n     */\n    var events = {};\n\n    /**\n     * define properties of this using getters/setters\n     */\n    defineProperties(this, {\n\n        /**\n         * stored tracking duration without current tracking duration\n         */\n        tracked: {\n\n            /**\n             * return duration\n             * @return {number} milliseconds\n             */\n            get: function() {\n                return properties.tracked;\n            },\n\n            /**\n             * set duration\n             * @param {mixed} duration accepts a number, string, array or object\n             * @return {void}\n             */\n            set: function(duration) {\n                if (typeof duration !== 'undefined') {\n                    properties.tracked = Tracker.durationToNumber(Tracker.anyToDuration(duration));\n                }\n            }\n\n        },\n\n        /**\n         * stored tracking duration plus eventually current tracking duration\n         */\n        trackedTotal: {\n\n            /**\n             * return duration\n             * @return {number} milliseconds\n             */\n            get: function() {\n                return !this.tracking ? this.tracked :\n                    properties.tracked + Tracker.now() - properties.tracking;\n            }\n\n        },\n\n        /**\n         * current tracking status\n         */\n        tracking: {\n\n            /**\n             * return whether tracker is currently tracking\n             * @return {boolean} tracking status\n             */\n            get: function() {\n                return properties.tracking !== false;\n            },\n\n            /**\n             * accepts a boolean to start/stop tracking or a number, string,\n             * array or object representing current tracking duration\n             * @param {mixed} tracking boolean or duration\n             * @return {void}\n             */\n            set: function(tracking) {\n                if (typeof tracking === 'boolean') {\n                    properties.tracked = this.trackedTotal;\n                    if (tracking) properties.tracking = Tracker.now();\n                    else properties.tracking = false;\n                } else if (typeof tracking !== 'undefined') {\n                    properties.tracking = Tracker.now() - Tracker.durationToNumber(Tracker.anyToDuration());\n                }\n            }\n\n        },\n\n        /**\n         * current tracking duration start point\n         */\n        trackingSince: {\n\n            /**\n             * return utc timestamp\n             * @return {number} milliseconds\n             */\n            get: function() {\n                return this.tracking ? properties.tracking : undefined;\n            },\n\n            /**\n             * set utc timestamp\n             * @param {number} trackingSince an utc timestamp in milliseconds\n             * @return {void}\n             */\n            set: function(trackingSince) {\n                if (typeof trackingSince !== 'undefined') {\n                    trackingSince = parseInt(trackingSince, 10);\n                    if (!isNaN(trackingSince)) properties.tracking = trackingSince;\n                }\n            }\n\n        },\n\n        /**\n         * tracker description\n         */\n        description: {\n\n            /**\n             * return tracker description\n             * @return {string} description\n             */\n            get: function() {\n                return properties.description;\n            },\n\n            /**\n             * set any string as tracker description\n             * @param {string} description a tracker description text\n             * @return {void}\n             */\n            set: function(description) {\n                if (typeof description === 'string' && (description = description.trim()).length > 0) {\n                    properties.description = description;\n                }\n            }\n\n        },\n\n        /**\n         * return data to restore this tracker\n         * @type {Object}\n         */\n        minified: {\n\n            /**\n             * return values of private properties storage\n             * @return {array} constructor arguments\n             */\n            get: function() {\n                return [\n                    properties.tracked,\n                    properties.tracking,\n                    properties.description\n                ];\n            }\n\n        }\n\n    });\n\n    /**\n     * merge this tracker with another tracker instance\n     * @param  {tracker} tracker another tracker instance\n     * @return {tracker}         this\n     */\n    this.merge = function(tracker) {\n        if (tracker instanceof Tracker) {\n            properties.tracked += Tracker.durationToNumber(tracker.trackedTotal);\n            properties.description += '\\n' + tracker.descroption;\n        }\n        return this;\n    };\n\n    /**\n     * set an event handler\n     * @param  {string}   event event name\n     * @param  {Function} fn    event handler function\n     * @return {void}\n     */\n    this.on = function(event, fn) {\n        if (typeof fn === 'function') events[event] = fn;\n    };\n\n    /**\n     * trigger an event handler\n     * @param  {string} event event name\n     * @return {void}\n     */\n    this.trigger = function(event) {\n        if (events.hasOwnProperty(event)) events[event]();\n    };\n\n    /**\n     * set initial property values\n     */\n    this.tracked = tracked;\n    this.trackingSince = tracking;\n    this.description = description;\n\n}\n\n/**\n * start tracking and trigger event\n * @return {tracker} this\n */\nTracker.prototype.start = function() {\n    this.tracking = true;\n    this.trigger('start');\n    return this;\n};\n\n/**\n * stop tracking and trigger event\n * @return {tracker} this\n */\nTracker.prototype.stop = function() {\n    this.tracking = false;\n    this.trigger('stop');\n    return this;\n};\n\n/**\n * toggle tracking\n * @return {tracker} this\n */\nTracker.prototype.toggle = function() {\n    if (this.tracking) this.stop();\n    else this.start();\n};\n\n/**\n * format a duration to a string like HH:MM:SS\n * @param  {string} format   duration format string\n * @param  {mixed}  duration anything that can be converted to a duration object\n * @return {string}          formatted duration\n */\nTracker.prototype.format = function(format, duration) {\n    format = typeof format === 'string' ? format : '%h:%m:%s';\n    duration = typeof duration !== 'undefined' ?\n        Tracker.anyToDuration(duration) : Tracker.numberToDuration(this.trackedTotal);\n    return Object.keys(duration).reverse().reduce(function(formatted, propertyName) {\n        return formatted.replace(new RegExp('%' + propertyName, 'ig'), ('0' + duration[propertyName]).slice(-2));\n    }, format);\n};\n\n/**\n * get current utc timestamp in milliseconds\n * @return {[type]} [description]\n */\nTracker.now = function() {\n    return new Date().getTime();\n};\n\n/**\n * get an object containing hours, minutes, seconds and milliseconds from a number representing milliseconds\n * @param  {number} num milliseconds\n * @return {object}     plain object containing properties h, m, s and ms\n */\nTracker.numberToDuration = function(num) {\n    return {\n        h: Math.floor(num / (1000 * 60 * 60)),\n        m: Math.floor(num / (1000 * 60) % 60),\n        s: Math.floor(num / 1000 % 60),\n        ms: Math.floor(num % 1000)\n    };\n};\n\n/**\n * get an object containing hours, minutes, seconds and milliseconds from a string\n * @param  {srtink} str a string like '12:34:56:789'\n * @return {object}     plain object containing properties h, m, s and ms\n */\nTracker.stringToDuration = function(str) {\n    return Tracker.arrayToDuration(\n        (typeof str === 'string' ? str : str.toString() || '')\n        .replace(/[^0-9:]/g, '').split(':')\n    );\n};\n\n/**\n * get an object containing hours, minutes, seconds and milliseconds from an array containing at least one of these values\n * @param  {array} arr array containing values for hours, minutes, seconds and/or milliseconds\n * @return {object}    plain object containing properties h, m, s and ms\n */\nTracker.arrayToDuration = function(arr) {\n    return ['h', 'm', 's', 'ms'].reduce(function(duration, prop, i) {\n        var value = parseInt(arr[i], 10);\n        duration[prop] = !isNaN(value) ? value : 0;\n        return duration;\n    }, {});\n};\n\n/**\n * get a number representing milliseconds from an object containing hours, minutes, seconds and/or milliseconds\n * @param  {object} duration plain object containing properties h, m, s and/or ms\n * @return {number}          milliseconds\n */\nTracker.durationToNumber = function(duration) {\n    var ms = 0;\n    if (duration.hasOwnProperty('h')) ms += parseInt(duration.h, 10) * 60 * 60 * 1000;\n    if (duration.hasOwnProperty('m')) ms += parseInt(duration.m, 10) * 60 * 1000;\n    if (duration.hasOwnProperty('s')) ms += parseInt(duration.s, 10) * 1000;\n    if (duration.hasOwnProperty('ms')) ms += parseInt(duration.ms, 10);\n    return ms;\n};\n\n/**\n * get an object containing hours, minutes, seconds and milliseconds from almost anything\n * @param  {mixed} any a number, string, array or object representing a duration\n * @return {object}    plain object containing properties h, m, s and/or ms\n */\nTracker.anyToDuration = function(any) {\n    if (typeof any === 'number' && !isNaN(any)) {\n        return Tracker.numberToDuration(any);\n    } else if (Array.isArray(any)) {\n        return Tracker.arrayToDuration(any);\n    } else if (typeof any === 'string') {\n        return Tracker.stringToDuration(any);\n    } else if (typeof any === 'object') {\n        return Tracker.numberToDuration(Tracker.durationToNumber(any));\n    }\n    throw new Error('unexpected duration type: ' + typeof any);\n};\n\nmodule.exports = Tracker;\n","'use strict';\n\n/**\n * wrapper for Object.defineProperties() with default fallbacks\n * @param  {object} obj         object to which properties are added\n * @param  {object} definitions plain object containing property definitions\n * @param  {object} defaults    plain object containing property definition defaults\n * @return {object}             modified object\n */\nfunction defineProperties(obj, definitions, defaults) {\n\n    if (typeof obj !== 'object') throw new Error('no valid object to add properties');\n    if (typeof definitions !== 'object') throw new Error('no valid definitions object');\n\n    defaults = typeof defaults === 'object' ? defaults : {\n        get: noop,\n        set: noop,\n        enumerable: true\n    };\n\n    Object.defineProperties(obj, Object.keys(definitions).reduce(function(propertyDefinitions, propertyName) {\n        propertyDefinitions[propertyName] = Object.keys(defaults).reduce(function(definition, key) {\n            if (!definition.hasOwnProperty(key)) {\n                definition[key] = defaults[key];\n            }\n            return definition;\n        }, definitions[propertyName]);\n        return propertyDefinitions;\n    }, {}));\n\n}\n\n/**\n * do nothing\n * @return {void}\n */\nfunction noop() {\n    return;\n}\n\nmodule.exports = defineProperties;\nmodule.exports.noop = noop;\n","'use strict';\n\n/**\n * set or trigger dom ready event handler\n * @param  {Function} fn handler\n * @return {void}\n */\nfunction onDomReady(fn) {\n    if (document.readyState !== 'loading') fn();\n    else document.addEventListener('DOMContentLoaded', fn);\n}\n\nmodule.exports = onDomReady;\n","'use strict';\n\n/**\n * set event handlers for input/textarea content update\n * @param  {node}     input input/textarea dom node\n * @param  {Function} fn    event handler\n * @return {void}\n */\nfunction onValueUpdate(input, fn) {\n\n    /**\n     * delayed event to get the already changed text\n     * @param {event} event event object\n     * @return {void}\n     */\n    function delayedFn(event) {\n        window.setTimeout(function() {\n            fn(event);\n        }, 0);\n    }\n\n    input.addEventListener('change', fn);\n    input.addEventListener('cut', delayedFn);\n    input.addEventListener('paste', delayedFn);\n    input.addEventListener('drop', delayedFn);\n    input.addEventListener('keydown', delayedFn);\n\n}\n\nmodule.exports = onValueUpdate;\n","'use strict';\n\n/**\n * template cache\n * @type {Object}\n */\nvar cache = {};\n\n/**\n * render a html/js template\n * inspired by john resig's micro templating:\n * http://ejohn.org/blog/javascript-micro-templating/\n *\n * @param  {string} str     template string\n * @param  {object} data    template data object\n * @return {HTMLCollection} rendered template\n */\nfunction renderTemplate(str, data) {\n    var dom = document.implementation.createHTMLDocument(),\n        fn = cache[str] = cache[str] ||\n            new Function('obj', // eslint-disable-line no-new-func\n                'var p=[],print=function(){p.push.apply(p,arguments);};' +\n                'with(obj){p.push(\\'' +\n                str.replace(/[\\r\\t\\n]/g, ' ')\n                    .split('{%').join('\\t')\n                    .replace(/((^|%\\})[^\\t]*)\"/g, '$1\\r')\n                    .replace(/\\t=(.*?)%\\}/g, '\\',$1,\\'')\n                    .split('\\t').join('\\');')\n                    .split('%}').join('p.push(\\'')\n                    .split('\\r').join('\"') +\n                '\\');}return p.join(\"\");');\n    data = typeof data === 'object' ? data : {};\n    dom.body.innerHTML = fn(data);\n    return dom.body.children.length > 1 ?\n        dom.body.children : dom.body.children[0];\n}\n\nmodule.exports = renderTemplate;\n","'use strict';\n\nvar onDomReady = require('functions/on-dom-ready'),\n    TrackerCollection = require('classes/tracker-collection');\n\nvar trackers;\n\nonDomReady(function() {\n\n    // initiate trackers\n    trackers = new TrackerCollection(\n        {\n            wrap: document.getElementById('trackers-wrap'),\n            list: document.getElementById('trackers-list'),\n            add: document.getElementById('trackers-button--add'),\n            merge: document.getElementById('trackers-button--merge'),\n            delete: document.getElementById('trackers-button--delete')\n        },\n        document.getElementById('tracker-template').innerHTML\n    );\n\n    // restore trackers from local storage\n    trackers.restore();\n\n});\n"]}